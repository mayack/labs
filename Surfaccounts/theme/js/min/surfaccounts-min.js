function removeExpanded(){$("#sidebar ul li.opened").removeClass("opened").find("ul").slideUp(200,"linear")}function resizeUpdate(){var e=$(window).height(),i=$("#nav-main").outerHeight(),t,a=$("#sidebar #logo").outerHeight(),o=$("#sidebar footer .footer-expanded").outerHeight(),s=$("#sidebar footer .footer-collapsed").outerHeight(),n,r;$(".page-actions").length>0?(r=o-1,n=e-i-r,$(".page-actions>.atk-cells").height(r)):n=e-i,$("#sidebar-indicator").is(":hidden")?($("#sidebar .footer").height(s),t=e-a-s-2,$("#sidebar #nav-sidebar").outerHeight(t),$("#sidebar footer").outerHeight(s)):($("#sidebar .footer").height(o),t=e-a-o-2,$("#sidebar #nav-sidebar").outerHeight(t),$("#sidebar footer").outerHeight(o)),$(".content").outerHeight(n)}function showSidebar(){$("#sidebar, #sidebar-trigger").addClass("expanded").removeClass("collapsed"),resizeUpdate()}function hideSidebar(){$("#sidebar, #sidebar-trigger").addClass("collapsed").removeClass("expanded"),$("#sidebar ul li.opened").removeClass("opened").find("ul").slideUp(200,"linear"),removeExpanded(),resizeUpdate()}function tipSwitch(){var e=$(this).attr("data-tip-target"),i=$(this).attr("data-tip"),t=$(this).attr("data-tip-position"),a=new Array;a=t.split(";"),$(".tip-visible").length>0?($(".tip-overlay").removeClass("fadeIn").addClass("fadeOut").one(animationEnd,function(){$(".tip-target").removeClass("tip-target"),$(e).parents("#sidebar").length>0?$(e).parents("#sidebar").addClass("tip-target"):$(e).addClass("tip-target"),$(".tip-overlay").removeClass("fadeOut").addClass("fadeIn")}),$(".tip-visible").removeClass("tip-visible fadeIn").addClass("fadeOut").one(animationEnd,function(){$(i).show().position({at:a[0],my:a[1],of:e}).addClass("tip-visible animated fadeIn")})):setTimeout(function(){$(".tip-overlay").show().addClass("animated fadeIn"),$(i).show().position({at:a[0],my:a[1],of:e}).addClass("tip-visible animated fadeIn")},400)}function tourDestroy(){$(".tip-overlay").removeClass("fadeIn").addClass("fadeOut").one(animationEnd,function(){$(this).remove(),$(".tip-target").removeClass("tip-target")}),$(".tip-visible").removeClass("fadeIn").addClass("fadeOut").one(animationEnd,function(){$(this).remove()}),$(".tip-popover").not(".tip-visible").remove()}var animationEnd="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";$(function(){resizeUpdate(),$("select").select2({minimumResultsForSearch:-1}),$(".tooltip").tooltip({hide:{duration:300},show:{delay:500,duration:300},position:{my:"center top+10",at:"center bottom"}}),$(".file-browser a").click(function(){$(this).siblings("input").click()}),$(".help-box .icon-cancel").click(function(){$(this).parent().slideUp(200)}),$("#tour-dialog").dialog({closeOnEscape:!1,dialogClass:"no-title",draggable:!1,modal:!0,width:350}),$("#tour-dialog-close").click(function(){$("#tour-dialog").dialog("close").remove(),tourDestroy()}),$("#tour-start").click(function(){$("#tour-dialog").dialog("close").remove()}),$("[data-tip]").click(tipSwitch),$(".tour-destroy").click(tourDestroy),$(".scrollable").bind("mousewheel DOMMouseScroll",function(e){var i=e.originalEvent,t=i.wheelDelta||-i.detail;this.scrollTop+=30*(0>t?1:-1),e.preventDefault()}),$("#nav-sidebar>ul>li>ul>li.active").parents("li").addClass("has-active"),$("#nav-sidebar>ul>li").click(function(e){$(this).children("ul").length&&($(this).is(".opened")?removeExpanded():(showSidebar(),$("#nav-sidebar li.opened").removeClass("opened").find("ul").slideUp(),$(this).addClass("opened").find("ul").slideDown(200,"linear")),e.preventDefault())}),$("#sidebar-trigger").click(function(){$("#sidebar-indicator").is(":hidden")?showSidebar():hideSidebar()}),$("#dialog-company-trigger").click(function(){$("#dialog-company").dialog({draggable:!1,modal:!0,width:400})}),$("#dialog-user-trigger").click(function(){$("#dialog-user").dialog({draggable:!1,modal:!0,width:300})}),$(document).click(function(e){var i=$(e.target),t="actions-dropdown"===e.target.id,a="templates"===e.target.id;t||($("#actions-dropdown").addClass("atk-hide"),$(".atk-tableAction.visible").removeClass("visible")),a||$("#templates").addClass("atk-hide")}),$(".actions-trigger").click(function(e){e.stopPropagation();var i=$(this),t=$("#actions-dropdown");$(".atk-tableAction.visible").removeClass("visible"),$(this).parent().addClass("visible"),$(t).removeClass("atk-hide").position({my:"center-1 top+10",at:"center bottom",of:i,collision:"flip",using:function(e,i){var t="top"!==i.vertical?"bottom":"top";$(this).addClass("atk-popover-"+t+"-center"),$(this).removeClass("atk-popover-"+("top"===t?"bottom":"top")+"-center"),$(this).css({left:e.left+"px",top:e.top+"px"})}})});var e=[{value:"jquery",label:"jQuery",desc:"the write less, do more, JavaScript library"},{value:"jquery-ui",label:"jQuery UI",desc:"the official user interface library for jQuery"},{value:"sizzlejs",label:"Sizzle JS",desc:"a pure-JavaScript CSS selector engine"}];$("#project").autocomplete({minLength:0,source:e,focus:function(e,i){return $("#project").val(i.item.label),!1},select:function(e,i){return $("#project").val(i.item.label),$("#project-id").val(i.item.value),$("#project-description").html(i.item.desc),!1}}).autocomplete("instance")._renderItem=function(e,i){return $("<li>").append("<a>"+i.label+"<br>"+i.desc+"</a>").appendTo(e)},$(".invoice-issued input").datepicker().datepicker("setDate",new Date),$(".invoice-issued>a").click(function(){$(this).siblings("input").datepicker("show")}),$(".invoice-due input").datepicker(),$(".invoice-due>a").click(function(){$(this).siblings("input").datepicker("show")}),$(".invoice-row-delete").click(function(){$(this).parents("tr").remove()}),$(".invoice-row-advanced").click(function(){$("#row-advanced").dialog({draggable:!1,modal:!0,width:600})}),$("select.invoice-select").select2({dropdownCssClass:"invoice-dropdown",minimumResultsForSearch:-1}),$("#tabs-address").tabs(),$("#vat-analysis-trigger").hover(function(){var e=$(this);$("#vat-analysis").removeClass("atk-hide").position({my:"center bottom-10",at:"center top",of:e})},function(){$("#vat-analysis").addClass("atk-hide")}),$("#templates-trigger").click(function(e){e.stopPropagation();var i=$(this);$("#templates").removeClass("atk-hide").position({my:"right+10 top+12",at:"right bottom",of:i})})}),$(window).resize(function(){resizeUpdate()});